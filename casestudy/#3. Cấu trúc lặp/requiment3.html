<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    let nameCustomer = prompt('Enter name Customer');
    let emailCustomer = prompt('Enter email Customer');
    let idCard = prompt('Enter Id Card');
    let birthdayCustomer = prompt('Enter Birday (DD/MM/YYYY)');
    let numberOfAccompanying = prompt('Enter number of accompanying :');
    let rentDay = prompt('Enter rent day');

    //check email
    let flagEmailCustomer = false;
    let i = 0;
    while (flagEmailCustomer === false) {
        let filter = /^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+[.]([a-zA-Z0-9]{2,4})+$/;
        if (!filter.test(emailCustomer)) {
            alert('Email is invalid!Please Try Again!');
            emailCustomer = prompt('Enter email Customer');
        } else {
            flagEmailCustomer = true;
        }
    }

    //check idcard
     let flagidCard = false;
    while (flagidCard === false) {
        let filter = /^([0-9])+$/;
        if (!filter.test(idCard) || idCard.length !== 9) {
            alert('idCard is invalid!Please Try Again!');
            idCard = prompt('Enter Id Card');
        } else {
            flagidCard = true;
        }
    }

    //check birthday
    let flagBirday = false;
    while (flagBirday === false) {
        let filter = /^[\d]{2}\/[\d]{2}\/[\d]{4}$/;
        if (!filter.test(birthdayCustomer)) {
            alert('Birthday is invalid!Please Try Again!');
            birthdayCustomer = prompt('Enter Birday (DD/MM/YYYY)');
        } else {
            flagBirday = true;
        }
    }

    //check numberOfAccompanying
    while (numberOfAccompanying < 0) {
        alert('Number Of Accompanying is invalid!Please Try Again!');
        numberOfAccompanying = prompt('Enter number of accompanying :');
    }

    //check rentDay
    while (rentDay < 0) {
        alert('Rent Day is invalid!Please Try Again!');
        rentDay = prompt('Enter rent day')
    }

    //xóa khoảng trắng thừa
    function check_delete_space(str) {
        var result = '';
        for (let i = 0; i < str.length; i++) {
            if (str.charAt(i) === ' ') {
                continue;
            } else {
                result += str.charAt(i);
                if (str.charAt(i + 1) === ' ') {
                    result += ' ';
                }
            }
        }
        return result;
    }

    nameCustomer = check_delete_space(nameCustomer);
    alert('nameCustomer :' + nameCustomer +
        '\nemailCustomer :' + emailCustomer +
        '\nidCard :' + idCard +
        '\nbirthdayCustomer :' + birthdayCustomer +
        '\nnumberOfAccompanying :' + numberOfAccompanying +
        '\nrentDay :' + rentDay
    );

</script>
</body>
</html>